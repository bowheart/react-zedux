
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>StoreApi Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../guides/timeTravel.html" />
    
    
    <link rel="prev" href="createContext.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">Getting started</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../gettingStarted/overview.html">
            
                <a href="../gettingStarted/overview.html">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../gettingStarted/reactContextComparison.html">
            
                <a href="../gettingStarted/reactContextComparison.html">
            
                    
                    React context comparison
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../gettingStarted/storeCategories.html">
            
                <a href="../gettingStarted/storeCategories.html">
            
                    
                    Store categories
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">API</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="createContext.html">
            
                <a href="createContext.html">
            
                    
                    createContext
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.2" data-path="StoreApi.html">
            
                <a href="StoreApi.html">
            
                    
                    StoreApi
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Guides</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../guides/timeTravel.html">
            
                <a href="../guides/timeTravel.html">
            
                    
                    Time Travel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../guides/usingObservables.html">
            
                <a href="../guides/usingObservables.html">
            
                    
                    Using Observables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../guides/usingRedux.html">
            
                <a href="../guides/usingRedux.html">
            
                    
                    Using Redux
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Types</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../types/Context.html">
            
                <a href="../types/Context.html">
            
                    
                    Context
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.1.1" data-path="../types/context/Provider.html">
            
                <a href="../types/context/Provider.html">
            
                    
                    Context.Provider
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.2" data-path="../types/context/provide.html">
            
                <a href="../types/context/provide.html">
            
                    
                    Context.provide
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.3" data-path="../types/context/Consumer.html">
            
                <a href="../types/context/Consumer.html">
            
                    
                    Context.Consumer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.4" data-path="../types/context/consume.html">
            
                <a href="../types/context/consume.html">
            
                    
                    Context.consume
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.5" data-path="../types/context/Injector.html">
            
                <a href="../types/context/Injector.html">
            
                    
                    Context.Injector
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.1.6" data-path="../types/context/inject.html">
            
                <a href="../types/context/inject.html">
            
                    
                    Context.inject
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../types/Observable.html">
            
                <a href="../types/Observable.html">
            
                    
                    Observable
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../types/StateContainer.html">
            
                <a href="../types/StateContainer.html">
            
                    
                    StateContainer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="../types/StoreApiConstructor.html">
            
                <a href="../types/StoreApiConstructor.html">
            
                    
                    StoreApiConstructor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="../types/WrappedStateContainer.html">
            
                <a href="../types/WrappedStateContainer.html">
            
                    
                    WrappedStateContainer
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >StoreApi</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="storeapi"><code>StoreApi</code></h1>
<p>Defines an api around a Zedux store or other observable. Used to create component-bound stores (stores that live and die with a React component).</p>
<h2 id="definition">Definition</h2>
<pre class="language-"><code class="lang-typescript"><span class="token keyword">class</span> <span class="token class-name">StoreApi</span><span class="token operator">&lt;</span>TState<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">_bindControls</span><span class="token punctuation">(</span>
    StoreApiClass<span class="token punctuation">:</span> StoreApiConstructor<span class="token operator">&lt;</span>TState<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">:</span> StoreApi<span class="token operator">&lt;</span>TState<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">StoreApi</span><span class="token operator">&lt;</span>TState<span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  store<span class="token punctuation">:</span> Observable<span class="token operator">&lt;</span>TState<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>See the <a href="../types/StoreApiConstructor.html">StoreApiConstructor</a> and <a href="../types/Observable.html">Observable</a> types.</p>
<h2 id="the-gist">The gist</h2>
<p>To create a component-bound store simply create a class that extends <code>StoreApi</code>. This class <strong>must</strong> have a visible <code>store</code> instance property whose value is an <a href="../types/Observable.html">Observable</a>.</p>
<p>The class may also take static <code>actors</code> and <code>selectors</code> properties. See the <a href="../types/StoreApiConstructor.html">StoreApiConstructor type</a> for more details.</p>
<p>This class constructor may be passed directly to <a href="createContext.html"><code>createContext()</code></a>. React Zedux will instantiate it every time the resulting Context&apos;s <code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Provider</span><span class="token punctuation">&gt;</span></span></code> (or <code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Injector</span><span class="token punctuation">&gt;</span></span></code>) is mounted. React Zedux will also call <code>storeApi._bindControls()</code> to bind any actors/selectors to the store and merge those and all properties of the store into the api instance itself.</p>
<p>React Zedux will throw an error if there are any duplicate keys between the actors map, the selectors map, and the store&apos;s own properties. This mitigates the problems associated with this &quot;mixin&quot; sort of behavior.</p>
<h2 id="examples">Examples</h2>
<p>A simple component-bound store.</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&apos;react&apos;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> StoreApi<span class="token punctuation">,</span> createContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-zedux&apos;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;zedux&apos;</span>

<span class="token keyword">class</span> <span class="token class-name">CounterApi</span> <span class="token keyword">extends</span> <span class="token class-name">StoreApi</span> <span class="token punctuation">{</span>

  <span class="token comment" spellcheck="true">/*
    The `store` property is required. React Zedux will throw
    an error if it isn&apos;t a valid observable.

    Here we&apos;re creating a new store every time the CounterApi is
    instantiated. This will create a component-bound store. Note
    that we could set it to a global store if we just want to
    take advantage of the other features offered by StoreApis.
  */</span>
  store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hydrate</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/*
  We pass the class constructor directly to `createContext()`.
  React Zedux will instantiate it every time a &lt;Provider&gt;
  is mounted.
*/</span>
<span class="token keyword">const</span> CounterContext <span class="token operator">=</span> <span class="token function">createContext</span><span class="token punctuation">(</span>CounterApi<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">// Some components. Part of a complete example.</span>
<span class="token keyword">const</span> Counter <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>CounterContext<span class="token punctuation">.</span>Injector<span class="token operator">&gt;</span>
    <span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">{</span> state <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> state<span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>CounterContext<span class="token punctuation">.</span>Injector<span class="token operator">&gt;</span>
<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">// Now every time we mount a &lt;Counter&gt;, React Zedux creates</span>
<span class="token comment" spellcheck="true">// a new counter store.</span>
<span class="token keyword">const</span> App <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Counter <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Counter <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token punctuation">)</span>
</code></pre>
<p>The StoreApi is useful for defining a store&apos;s api (hence the name...). The &quot;api&quot; is the interface consumers use to interact with the store. The StoreApi can bind actors and selectors to the store and provide hooks and other utilities for accessing and modifying the store&apos;s data.</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&apos;react&apos;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> StoreApi<span class="token punctuation">,</span> createContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-zedux&apos;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createStore<span class="token punctuation">,</span> select <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;zedux&apos;</span>

<span class="token keyword">class</span> <span class="token class-name">TodosApi</span> <span class="token keyword">extends</span> <span class="token class-name">StoreApi</span> <span class="token punctuation">{</span>

  <span class="token comment" spellcheck="true">/*
    A StoreApi can take static `actors` and `selectors` properties.
    These will be bound to the store and merged into the TodosApi
    instance.
  */</span>
  <span class="token keyword">static</span> actors <span class="token operator">=</span> <span class="token punctuation">{</span>

    <span class="token comment" spellcheck="true">// A simple inducer factory</span>
    addTodo<span class="token punctuation">:</span> text <span class="token operator">=</span><span class="token operator">&gt;</span> state <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
      <span class="token operator">...</span>state<span class="token punctuation">,</span>
      <span class="token punctuation">{</span> text<span class="token punctuation">,</span> isComplete<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">static</span> selectors <span class="token operator">=</span> <span class="token punctuation">{</span>

    <span class="token comment" spellcheck="true">// A simple, memoized selector</span>
    selectIncompleteTodos<span class="token punctuation">:</span> <span class="token function">select</span><span class="token punctuation">(</span>
      state <span class="token operator">=</span><span class="token operator">&gt;</span> state<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>todo <span class="token operator">=</span><span class="token operator">&gt;</span> todo<span class="token punctuation">.</span>isComplete<span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hydrate</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> TodosContext <span class="token operator">=</span> <span class="token function">createContext</span><span class="token punctuation">(</span>TodosApi<span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">// Now when we mount a TodosContext.Provider, React Zedux will bind</span>
<span class="token comment" spellcheck="true">// these actors and selectors to the store and merge them into the</span>
<span class="token comment" spellcheck="true">// api instance.</span>
<span class="token keyword">const</span> Todos <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>TodosContext<span class="token punctuation">.</span>Injector<span class="token operator">&gt;</span>
    <span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">{</span> addTodo<span class="token punctuation">,</span> selectIncompleteTodos <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">addTodo</span><span class="token punctuation">(</span><span class="token string">&apos;be awesome&apos;</span><span class="token punctuation">)</span>

      <span class="token function">selectIncompleteTodos</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token comment" spellcheck="true">// [ { text: &apos;be awesome&apos; isComplete: false } ]</span>
    <span class="token punctuation">}</span><span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>TodosContext<span class="token punctuation">.</span>Injector<span class="token operator">&gt;</span>
<span class="token punctuation">)</span>
</code></pre>
<p>The <code>actors</code> and <code>selectors</code> can contain nested namespaces. React Zedux will preserve the nesting. This can be useful for creating hooks (such as actors that perform a check before proceeding with a dispatch):</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&apos;react&apos;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> StoreApi<span class="token punctuation">,</span> createContext <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-zedux&apos;</span>

<span class="token keyword">class</span> <span class="token class-name">TodosApi</span> <span class="token keyword">extends</span> <span class="token class-name">StoreApi</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> actors <span class="token operator">=</span> <span class="token punctuation">{</span>
    wrappedActors<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      addTodo<span class="token punctuation">:</span> text <span class="token operator">=</span><span class="token operator">&gt;</span> state <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
        <span class="token operator">...</span>state<span class="token punctuation">,</span>
        <span class="token punctuation">{</span> text<span class="token punctuation">,</span> isComplete<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hydrate</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

  <span class="token function">addTodo</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> todos <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>todos<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span>todo <span class="token operator">=</span><span class="token operator">&gt;</span> todo<span class="token punctuation">.</span>text <span class="token operator">===</span> text<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> todos <span class="token comment" spellcheck="true">// a todo already exists with that name</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">// We&apos;re good; proceed with the dispatch</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>wrappedActors<span class="token punctuation">.</span><span class="token function">addTodo</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> Todos <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>TodosContext<span class="token punctuation">.</span>Injector<span class="token operator">&gt;</span>
    <span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">{</span> addTodo <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">addTodo</span><span class="token punctuation">(</span><span class="token string">&apos;nest a selector now&apos;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">}</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>TodosContext<span class="token punctuation">.</span>Injector<span class="token operator">&gt;</span>
<span class="token punctuation">)</span>
</code></pre>
<h2 id="testing">Testing</h2>
<p>Just be sure to call <code>storeApi._bindControls()</code> manually:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> StoreApi <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-zedux&apos;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;zedux&apos;</span>

<span class="token keyword">class</span> <span class="token class-name">TodosApi</span> <span class="token keyword">extends</span> <span class="token class-name">StoreApi</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> actors <span class="token operator">=</span> <span class="token punctuation">{</span>
    addTodo<span class="token punctuation">:</span> text <span class="token operator">=</span><span class="token operator">&gt;</span> state <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">[</span>
      <span class="token operator">...</span>state<span class="token punctuation">,</span>
      <span class="token punctuation">{</span> text<span class="token punctuation">,</span> isComplete<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

  store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hydrate</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> todosApi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TodosApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">_bindControls</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// yes, it can be chained</span>

todosApi<span class="token punctuation">.</span><span class="token function">addTodo</span><span class="token punctuation">(</span><span class="token string">&apos;a&apos;</span><span class="token punctuation">)</span>

<span class="token function">expect</span><span class="token punctuation">(</span>todosApi<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token punctuation">{</span> text<span class="token punctuation">:</span> <span class="token string">&apos;a&apos;</span><span class="token punctuation">,</span> isComplete<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="method-api">Method Api</h2>
<h3 id="bindcontrols"><code>_bindControls()</code></h3>
<h4 id="definition">Definition</h4>
<pre class="language-"><code class="lang-typescript"><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> StoreApi<span class="token operator">&lt;</span>TState<span class="token operator">&gt;</span>
</code></pre>
<p>Returns the StoreApi instance for chaining.</p>
<h4 id="explanation">Explanation</h4>
<p>Given a StoreApi instance like so:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> StoreApi <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-zedux&apos;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;zedux&apos;</span>

<span class="token keyword">class</span> <span class="token class-name">CounterApi</span> <span class="token keyword">extends</span> <span class="token class-name">StoreApi</span> <span class="token punctuation">{</span>
  store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hydrate</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

  <span class="token keyword">static</span> actors <span class="token operator">=</span> <span class="token punctuation">{</span>
    increment<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> state <span class="token operator">=</span><span class="token operator">&gt;</span> state <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">static</span> selectors <span class="token operator">=</span> <span class="token punctuation">{</span>
    selectNumTimesTen<span class="token punctuation">:</span> state <span class="token operator">=</span><span class="token operator">&gt;</span> state <span class="token operator">*</span> <span class="token number">10</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> counterApi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CounterApi</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>calling</p>
<pre class="language-"><code class="lang-js">counterApi<span class="token punctuation">.</span><span class="token function">_bindControls</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>Will:</p>
<ul>
<li><p>Merge all properties of <code>counterApi.store</code> into <code>counterApi</code>. Will throw an error if any of those properties already exist on <code>counterApi</code>.</p>
</li>
<li><p>Bind the <code>increment</code> actor to the store.</p>
</li>
<li><p>Stick the bound <code>increment</code> actor on <code>counterApi</code>. Will throw an error if <code>increment</code> already exists on <code>counterApi</code>.</p>
</li>
<li><p>Bind the <code>selectNumTimesTen</code> selector to the store.</p>
</li>
<li><p>Stick the bound <code>selectNumTimesTen</code> selector on <code>counterApi</code>. Will throw an error if <code>selectNumTimesTen</code> already exists on <code>counterApi</code>.</p>
</li>
</ul>
<h2 id="notes">Notes</h2>
<p>You don&apos;t have to use the auto-binding feature of StoreApis. The following two examples are equivalent:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> StoreApi <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-zedux&apos;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;zedux&apos;</span>

<span class="token keyword">class</span> <span class="token class-name">CounterApi</span> <span class="token keyword">extends</span> <span class="token class-name">StoreApi</span> <span class="token punctuation">{</span>
  store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hydrate</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

  <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>state <span class="token operator">=</span><span class="token operator">&gt;</span> state <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// or this.dispatch(...)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>and:</p>
<pre class="language-"><code class="lang-js"><span class="token keyword">import</span> <span class="token punctuation">{</span> StoreApi <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;react-zedux&apos;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;zedux&apos;</span>

<span class="token keyword">class</span> <span class="token class-name">CounterApi</span> <span class="token keyword">extends</span> <span class="token class-name">StoreApi</span> <span class="token punctuation">{</span>
  store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hydrate</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

  <span class="token keyword">static</span> actors <span class="token operator">=</span> <span class="token punctuation">{</span>
    increment<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> state <span class="token operator">=</span><span class="token operator">&gt;</span> state <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="createContext.html" class="navigation navigation-prev " aria-label="Previous page: createContext">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../guides/timeTravel.html" class="navigation navigation-next " aria-label="Next page: Time Travel">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"StoreApi","level":"2.2","depth":1,"next":{"title":"Time Travel","level":"3.1","depth":1,"path":"guides/timeTravel.md","ref":"guides/timeTravel.md","articles":[]},"previous":{"title":"createContext","level":"2.1","depth":1,"path":"api/createContext.md","ref":"api/createContext.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-highlight","prism","anchorjs"],"root":"docs","styles":{"website":"./styles/website.css"},"pluginsConfig":{"prism":{},"anchorjs":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"gitbook":"*"},"file":{"path":"api/StoreApi.md","mtime":"2018-03-09T15:34:06.012Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-03-10T00:11:42.804Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-anchorjs/anchor-style.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

